<html
    window-resizable="true"
    window-width="400dip"
    window-height="900dip"
>
<head>
<title>sciter components demo</title>
<style>

@import url(vendor/8ctopus/sciter-fontawesome/src/fontawesome.css);
@import url(vendor/8ctopus/sciter-logger/src/logger.css);

body {
    flow: vertical;
}

@mixin BORDER {
    border: 1dip solid gray;
}

body > * {
    @BORDER;
    border-top: none;

    padding: 0.5em;
}

body > *:first-child {
    @BORDER;
}

input[type="checkbox"] {
    margin-right: 0.4em;
}

label {
    vertical-align: middle;
}

hello {
    prototype: Hello url("js/hello.js");
    display: block;
}

checkbox {
    prototype: Checkbox url("js/checkbox.js");
    display: block;
}

widget {
    prototype: Widget url("js/widget.js");
    display: block;
}

div#widget {
    flow: horizontal;
    vertical-align: middle;
}

div#widget h1 {
    margin-right: 0.5em;
}

widget:expanded h1 {
    font-size: 30dip;
}

widget:collapsed h1 {
    font-size: 10dip;
}

counter {
    prototype: Counter url("js/counter.js");
    display: block;
}

search {
    prototype: Search url("js/search.js");
    display: block;
}

@import url(js/clock.css);
@import url(js/welcome.css);
@import url(js/groupbox.css);
@import url(vendor/8ctopus/sciter-pagecontrol/src/pagecontrol.css);

div#controls {
    flow: horizontal;
    border-spacing: 0.5em;
    padding: 0.5em;
}

pagecontrol {
    size: *;
}

// custom skinning of fourth tabsheet
pagecontrol div#tabsheet-4 {
    background: cyan;
}

</style>
<script type="module">

import {logger} from "vendor/8ctopus/sciter-logger/src/logger.js";
import * as utils from "vendor/8ctopus/sciter-utils/src/utils.js";

// initialize logger
logger.init();

// attach logger to console
logger.attach();

// capture unhandled exceptions
logger.capture(unhandledExceptionHandler);

document.ready = function() {
    // subscribe to logger messages
    logger.plaintext(document.$("plaintext#logger"));

    // log sciter version
    console.debug(utils.sciterInfo());

    // add support for F5 reload
    utils.addReloadWindow();

    // close window on escape key press
    utils.closeWindowOnEscape(Window.this);

    // center window on screen
    utils.centerWindow(Window.this, "screen");

    // bring window to front
    //utils.windowToFront(Window.this);

    // bring window to front and set input focus
    Window.this.activate(true);

    const pagecontrol = document.$("pagecontrol");

    document.on("click", "button#previous", function() {
        pagecontrol.previousTab();
    });

    document.on("click", "button#next", function() {
        pagecontrol.nextTab();
    });

    document.on("click", "button#toggle", function() {
        // show, hide pagecontrol header
        pagecontrol.toggleHeaders();
    });

    pagecontrol.showTab("tab-3");
}

/**
 * Unhandled exception handler
 * @param  Error|String e
 * @return void
 */
function unhandledExceptionHandler(e)
{
    // log exception using exception if it exists, error otherwise
    typeof console.exception === "function" ? console.exception(e) : console.error(e);
}

</script>
</head>
<body>
    <hello user="8ctopus" />
    <checkbox id="left" label="left" />
    <checkbox id="right" label="right" />
    <widget message="test" />
    <counter />
    <clock />
    <search />
    <welcomegroup />
    <groupbox title="groupbox example">
        <checkbox label="choice 1" />
        <checkbox label="choice 2" />
    </groupbox>
    <div #controls>
        <button #previous>&lt;</button>
        <button #next>&gt;</button>
        <button #toggle>Show/hide headers</button>
    </div>
    <pagecontrol #p1 header="top">
        <tab title="first tab" icon="fas fa-star">
            <p> first tab content </p>
            <button> test </button>
        </tab>
        <tab title="second tab" icon="fas fa-bell" selected>
            <p> second tab content </p>
        </tab>
        <tab title="third tab">
            <p>
                third tab content <br>
                <b>some</b> literal <i>HTML</i>
            </p>
        </tab>
        <tab src="tab4.html" title="fourth tab" icon="fas fa-star" />
        <tab src="tab5.html" />
    </pagecontrol>
    <plaintext #logger readonly />
</body>
</html>
